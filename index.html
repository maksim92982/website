<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JANART STUDIO</title>
    <style>

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 3000;
            padding: 100px 20px 20px;
            overflow-y: auto;
        }

        .admin-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #000;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 3001;
        }

        .admin-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .admin-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }

        .admin-section h2 {
            margin-bottom: 15px;
            color: #333;
        }

        .admin-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .admin-input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .admin-btn {
            background: #000;
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 16px;
        }

        .admin-btn:hover {
            background: #333;
        }

        .admin-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .painting-item {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
        }

        .image-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 10px 0;
        }

        .preview-img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
        }

        .upload-status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }

        .success {
            background: #d4edda;
            color: #155724;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
        }

        .warning {
            background: #fff3cd;
            color: #856404;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
            margin-top: 10px;
        }

        .github-config {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #007bff;
            transition: width 0.3s ease;
        }

        .config-status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cormorant Garamond', serif;
        }
        
        body {
            color: #000;
            line-height: 1.6;
            background-color: #fff;
        }
        
        a {
            text-decoration: none;
            color: inherit;
        }
        
        /* –®–∞–ø–∫–∞ */
        header {
            padding: 30px 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background-color: rgba(255, 255, 255, 0.95);
            transition: padding 0.3s ease;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 2px;
            font-family: 'Italiana', serif;
            cursor: pointer;
        }
        
        .logo:hover {
            opacity: 0.7;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 40px;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        nav ul li a:hover {
            opacity: 0.7;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
        .mobile-menu {
            display: none;
            cursor: pointer;
        }
        
        .mobile-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            z-index: 1001;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-nav.active {
            transform: translateY(0);
        }
        
        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
        }
        
        /* –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ */
        .main-content {
            margin-top: 120px;
            padding: 0 60px;
        }
        
        .hero-image {
            width: 100%;
            height: 70vh;
            cursor: pointer;
            overflow: hidden;
            position: relative;
        }
        
        .hero-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        /* –ì–∞–ª–µ—Ä–µ—è */
        .gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 120px;
            padding: 0 60px;
            min-height: 200px;
        }
        
        .gallery-empty {
            grid-column: 1 / -1;
            text-align: center;
            padding: 60px 20px;
            color: #666;
            font-size: 18px;
        }
        
        .gallery-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
            height: 50vh;
            width: 100%;
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .gallery-item:hover img {
            transform: scale(1.03);
        }
        
        .gallery-item-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 15px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .gallery-item:hover .gallery-item-overlay {
            opacity: 1;
        }
        
        .product-title {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .product-price {
            font-size: 14px;
        }
        
        .product-photos-count {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .sold-out {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #000;
            color: #fff;
            padding: 5px 10px;
            font-size: 12px;
        }
        
        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ */
        .product-page {
            display: none;
            padding: 120px 60px 60px;
        }
        
        .product-container {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            justify-content: center;
        }
        
        .product-gallery {
            flex: 1;
            min-width: 300px;
            max-width: 75%;
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            gap: 15px;
            position: relative;
        }
        
        .product-thumbnails {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 80px;
        }
        
        .product-thumbnail {
            width: 80px;
            height: 80px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
            border: 2px solid transparent;
        }
        
        .product-thumbnail:hover,
        .product-thumbnail.active {
            opacity: 1;
            border-color: #000;
        }
        
        .product-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-image-main {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            max-height: 65vh;
            position: relative;
            overflow: hidden;
            touch-action: pan-y;
        }
        
        .product-image-main img {
            max-width: 100%;
            max-height: 65vh;
            width: auto;
            height: auto;
            object-fit: contain;
            transition: transform 0.3s ease;
        }
        
        /* –°—Ç—Ä–µ–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: background-color 0.3s ease;
            border: none;
        }
        
        .nav-arrow:hover {
            background: rgba(255, 255, 255, 0.95);
        }
        
        .nav-arrow.prev {
            left: 10px;
        }
        
        .nav-arrow.next {
            right: 10px;
        }
        
        .nav-arrow::before {
            content: '';
            width: 12px;
            height: 12px;
            border: 2px solid #000;
            border-width: 2px 2px 0 0;
            display: inline-block;
        }
        
        .nav-arrow.prev::before {
            transform: rotate(-135deg);
            margin-right: -2px;
        }
        
        .nav-arrow.next::before {
            transform: rotate(45deg);
            margin-left: -2px;
        }
        
        .product-details {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
        }
        
        .back-button {
            display: inline-block;
            margin-bottom: 30px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .back-button:hover {
            opacity: 0.7;
        }
        
        .add-to-cart {
            background: #000;
            color: #fff;
            border: none;
            padding: 15px 30px;
            margin-top: 20px;
            cursor: pointer;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .add-to-cart:hover {
            background: #333;
        }
        
        /* –ë–∏–æ–≥—Ä–∞—Ñ–∏—è */
        .bio-page {
            display: none;
            padding: 120px 60px 60px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .bio-page h1 {
            margin-bottom: 30px;
            font-size: 32px;
        }
        
        .bio-page p {
            margin-bottom: 20px;
            font-size: 18px;
            line-height: 1.8;
        }
        
        /* –ö–æ–Ω—Ç–∞–∫—Ç—ã */
        .contact-page {
            display: none;
            padding: 120px 60px 60px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .contact-page h1 {
            margin-bottom: 30px;
            font-size: 32px;
        }
        
        .contact-form {
            display: flex;
            flex-direction: column;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            font-size: 16px;
        }
        
        .form-group textarea {
            min-height: 150px;
        }
        
        .submit-button {
            background: #000;
            color: #fff;
            border: none;
            padding: 15px 30px;
            cursor: pointer;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
            align-self: flex-start;
        }
        
        .submit-button:hover {
            background: #333;
        }
        
        /* –§—É—Ç–µ—Ä */
        footer {
            padding: 60px;
            background: #f7f7f7;
            margin-top: 60px;
            text-align: center;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .social-links a {
            font-size: 18px;
            padding: 12px 20px;
            transition: opacity 0.3s ease;
        }
        
        .social-links a:hover {
            opacity: 0.7;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .mobile-gallery-link {
            display: none;
        }
        
        .mobile-bio-link {
            display: none;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ */
        .contacts-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .contacts-modal.active {
            display: flex;
        }
        
        .contacts-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            position: relative;
        }
        
        .close-contacts {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω—ã */
        .description-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .description-modal.active {
            display: flex;
        }
        
        .description-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            text-align: left;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .close-description {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .radio-group {
            display: flex;
            gap: 15px;
            margin-top: 5px;
        }
        
        .radio-group label {
            display: flex;
            align-items: center;
            font-weight: normal;
            cursor: pointer;
        }
        
        .radio-group input[type="radio"] {
            margin-right: 5px;
            width: auto;
        }
        
        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
        }
        
        .color-picker input[type="color"] {
            width: 50px;
            height: 40px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .color-presets {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .color-preset {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.2s;
        }
        
        .color-preset:hover,
        .color-preset.active {
            border-color: #333;
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }
        
        .modal-buttons .admin-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—á–µ–∫ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∞—Ö */
        .painting-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
            padding: 8px 12px;
            color: white;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            max-width: 80px;
            word-wrap: break-word;
        }
        
        .painting-overlay.rounded {
            border-radius: 15px;
        }
        
        .painting-overlay.square {
            border-radius: 4px;
        }
        
        .contact-item {
            margin: 15px 0;
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            flex-direction: column;
        }
        
        .contact-item:last-child {
            border-bottom: none;
        }
        
        .contact-item a {
            color: #000;
            transition: opacity 0.3s ease;
        }
        
        .contact-item a:hover {
            opacity: 0.7;
        }
        
        .contact-label {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1024px) {
            .gallery {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .gallery-item {
                height: 40vh;
            }
            
            .product-gallery {
                max-width: 85%;
            }
        }
        
        @media (max-width: 768px) {
            header {
                padding: 20px;
            }
            
            nav ul {
                display: none;
            }
            
            .mobile-menu {
                display: none;
            }
            
            .mobile-gallery-link {
                display: block;
                font-size: 16px;
                text-transform: uppercase;
                letter-spacing: 1px;
                cursor: pointer;
            }
            
            .mobile-gallery-link:hover {
                opacity: 0.7;
            }
            
            .main-content,
            .gallery,
            .product-page,
            .bio-page,
            .contact-page {
                padding-left: 20px;
                padding-right: 20px;
            }
            
            .hero-image {
                height: 50vh;
            }
            
            .gallery {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .gallery-item {
                height: 35vh;
            }
            
            .product-container {
                flex-direction: column;
                align-items: center;
            }
            
            .product-gallery {
                flex-direction: column;
                max-width: 100%;
                min-width: unset;
            }
            
            .product-thumbnails {
                flex-direction: row;
                flex-wrap: wrap;
                width: 100%;
                justify-content: center;
                order: 2;
            }
            
            .product-image-main {
                order: 1;
                max-height: 55vh;
                width: 100%;
            }
            
            .product-image-main img {
                max-height: 55vh;
            }
            
            .product-details {
                max-width: 100%;
            }
            
            .product-thumbnail {
                width: 60px;
                height: 60px;
            }
            
            /* –°—Ç—Ä–µ–ª–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ */
            .nav-arrow {
                width: 35px;
                height: 35px;
            }
            
            .nav-arrow::before {
                width: 10px;
                height: 10px;
            }
            
            /* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ñ—É—Ç–µ—Ä–∞ */
            footer {
                padding: 40px 20px 20px; /* –£–º–µ–Ω—å—à–µ–Ω –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É –≤ 2 —Ä–∞–∑–∞ */
            }
            
            .social-links {
                flex-direction: row;
                gap: 15px;
                justify-content: space-around;
            }
            
            .social-links a {
                font-size: 16px;
                padding: 10px 15px;
                flex: 1;
                text-align: center;
            }
            
            .mobile-bio-link {
                display: block;
                font-size: 18px;
                padding: 12px 20px;
                margin-bottom: 20px;
                cursor: pointer;
            }
            
            .mobile-bio-link:hover {
                opacity: 0.7;
            }
            
            /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ —Ñ—É—Ç–µ—Ä–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .social-links a:not(.mobile-contact-link) {
                display: none;
            }
            
            /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–≤–µ —Å—Å—ã–ª–∫–∏ */
            .mobile-contact-link {
                display: block !important;
            }
        }
        
        @media (max-width: 480px) {
            .gallery-item {
                height: 30vh;
            }
            
            .product-image-main {
                max-height: 50vh;
            }
            
            .product-image-main img {
                max-height: 50vh;
            }
            
            .product-thumbnail {
                width: 50px;
                height: 50px;
            }
            
            .nav-arrow {
                width: 30px;
                height: 30px;
            }
            
            .nav-arrow::before {
                width: 8px;
                height: 8px;
            }
            
            .nav-arrow.prev {
                left: 5px;
            }
            
            .nav-arrow.next {
                right: 5px;
            }
            
            /* –ï—â–µ –±–æ–ª—å—à–µ —É–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø –≤ —Ñ—É—Ç–µ—Ä–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
            footer {
                padding: 30px 15px 15px;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ */
        @media (min-width: 769px) {
            /* –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ö–æ–Ω—Ç–∞–∫—Ç—ã" –≤ —Ñ—É—Ç–µ—Ä–µ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
            .social-links a.mobile-contact-link {
                display: none;
            }
            
            /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
            .contacts-content {
                text-align: left;
                max-width: 500px;
            }
            
            .contact-item {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
            
            .contact-label {
                min-width: 100px;
                margin-bottom: 0;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,500;0,700;1,300;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Italiana&display=swap" rel="stylesheet">
</head>
<body><!-- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div id="admin-panel" class="admin-panel">
        <div class="admin-header">
            <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ JANART STUDIO</h2>
            <button class="admin-close" id="admin-close">‚úï</button>
        </div>
        
        <div class="github-config">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub</h3>
            <div class="admin-form">
                <input type="password" id="github-token" class="admin-input" placeholder="GitHub Personal Access Token" value="">
                <input type="text" id="github-owner" class="admin-input" placeholder="–í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (username)" value="maksim92982">
                <input type="text" id="github-repo" class="admin-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è" value="website">
                <input type="text" id="github-path" class="admin-input" placeholder="–ü—É—Ç—å –∫ –ø–∞–ø–∫–µ" value="images/gallery">
                <div id="config-status" class="config-status"></div>
                <button class="admin-btn" id="save-github-config">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub</button>
                <button class="admin-btn" id="test-connection">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</button>
            </div>
        </div>

        <div class="admin-section">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–∞–ª–µ—Ä–µ–∏</h2>
            <div class="admin-form">
                <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω –≤ –≥–∞–ª–µ—Ä–µ–µ:</label>
                <input type="number" id="paintings-count" class="admin-input" min="1" value="3">
                <button class="admin-btn" id="save-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
        </div>

        <div class="admin-section">
            <h2>–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</h2>
            <div class="admin-form">
                <p style="color: #dc3545; margin-bottom: 15px;">
                    <strong>‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:</strong> –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —É–¥–∞–ª–∏—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –Ω–∞–≤—Å–µ–≥–¥–∞!
                </p>
                <button class="admin-btn" id="clear-all-data" style="background: #dc3545;">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏</button>
                <div id="clear-status" style="margin-top: 10px;"></div>
            </div>
        </div>

        <div class="admin-section">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –∫–∞—Ä—Ç–∏–Ω</h2>
            <div id="paintings-photos-config">
                <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
            <button class="admin-btn" id="save-photos-config">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</button>
        </div>

        <div class="admin-section">
            <h2>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–∏–Ω –≤ –≥–∞–ª–µ—Ä–µ–µ</h2>
            <div style="margin-bottom: 15px; padding: 10px; background: #e9ecef; border-radius: 5px;">
                <strong>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–∏–Ω:</strong>
                <div style="margin-top: 10px;">
                    <button class="admin-btn" onclick="moveSelectedPainting('up')" style="margin-right: 10px; padding: 5px 15px; font-size: 12px;">‚Üë –í–≤–µ—Ä—Ö</button>
                    <button class="admin-btn" onclick="moveSelectedPainting('down')" style="padding: 5px 15px; font-size: 12px;">‚Üì –í–Ω–∏–∑</button>
                </div>
            </div>
            <div id="paintings-order-config">
                <!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–∏–Ω –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>

        <div class="admin-section">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω—É</h2>
            <div class="admin-form">
                <input type="text" id="painting-title" class="admin-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã">
                <input type="text" id="painting-size" class="admin-input" placeholder="–†–∞–∑–º–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä: 36x48)">
                <input type="text" id="painting-price" class="admin-input" placeholder="–¶–µ–Ω–∞">
                <textarea id="painting-description" class="admin-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" rows="3"></textarea>
                
                <label>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è —ç—Ç–æ–π –∫–∞—Ä—Ç–∏–Ω—ã (–ø–µ—Ä–≤–∞—è –±—É–¥–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π):</label>
                <input type="file" id="painting-images" class="admin-input" multiple accept="image/*,.heic,.heif">
                
                <div class="image-preview" id="image-preview"></div>
                <div class="progress-bar" id="upload-progress" style="display: none;">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                <div id="upload-status" class="upload-status"></div>
                
                <button class="admin-btn" id="add-painting">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É –≤ GitHub</button>
            </div>
        </div>

        <div class="admin-section">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–∞—Ä—Ç–∏–Ω–∞–º–∏</h2>
            <div id="paintings-list">
                <!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–∏–Ω –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>
    <!-- –®–∞–ø–∫–∞ -->
    <header>
        <div class="logo" id="home-logo">JANART STUDIO</div>
        <nav>
            <ul>
                <li><a href="#" class="nav-link" data-page="gallery">–ì–∞–ª–µ—Ä–µ—è</a></li>
                <li><a href="#" class="nav-link" data-page="bio">–û–± –∞–≤—Ç–æ—Ä–µ</a></li>
                <li><a href="#" class="nav-link" id="desktop-contacts-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            </ul>
        </nav>
        <div class="mobile-gallery-link" data-page="gallery">–ì–∞–ª–µ—Ä–µ—è</div>
        <div class="mobile-menu">–ú–µ–Ω—é</div>
    </header>

    <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é (–¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ HTML) -->
    <div class="mobile-nav">
        <div class="close-menu">‚úï</div>
        <ul>
            <li><a href="#" class="nav-link" data-page="home">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="#" class="nav-link" data-page="gallery">–ì–∞–ª–µ—Ä–µ—è</a></li>
            <li><a href="#" class="nav-link" data-page="bio">–û–± –∞–≤—Ç–æ—Ä–µ</a></li>
            <li><a href="#" class="nav-link" id="mobile-contacts-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
    </div>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="home-page" class="page">
        <div class="main-content">
            <div class="hero-image">
                <img src="images/freepik-export-20241021134528sZDq.jpeg" alt="–ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ JANART STUDIO" id="main-hero">
            </div>
        </div>
    </div>

    <!-- –ì–∞–ª–µ—Ä–µ—è -->
    <div id="gallery-page" class="page" style="display: none;">
        <div class="gallery">
            <!-- –≠–ª–µ–º–µ–Ω—Ç—ã –≥–∞–ª–µ—Ä–µ–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ -->
    <div id="product-page" class="product-page">
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
    </div>

    <!-- –ë–∏–æ–≥—Ä–∞—Ñ–∏—è -->
    <div id="bio-page" class="bio-page">
        <h1>–û–± –∞–≤—Ç–æ—Ä–µ</h1>
        <p>–Ø - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ö—É–¥–æ–∂–Ω–∏–∫, –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫—Ä–∞—Å–æ—Ç–æ–π –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ –º–∏—Ä–∞ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è–º–∏. –ú–æ–∏ —Ä–∞–±–æ—Ç—ã –æ—Ç—Ä–∞–∂–∞—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ü–≤–µ—Ç–∞, —Ñ–æ—Ä–º—ã –∏ —Ç–µ–∫—Å—Ç—É—Ä—ã, —Å–æ–∑–¥–∞–≤–∞—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ narratives.</p>
        <p>–Ø —Ä–∞–±–æ—Ç–∞—é —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–µ–¥–∏–∞, –≤–∫–ª—é—á–∞—è –∞–∫—Ä–∏–ª, –º–∞—Å–ª–æ –∏ —Å–º–µ—à–∞–Ω–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É. –ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ - —ç—Ç–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ —Ö–æ–ª—Å—Ç–µ.</p>
        <p>–ú–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ - —ç—Ç–æ –¥–∏–∞–ª–æ–≥ —Å–æ –∑—Ä–∏—Ç–µ–ª–µ–º, –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∫ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—é –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É –æ—Ç–∫–ª–∏–∫—É. –Ø —Å—Ç—Ä–µ–º–ª—é—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–±–æ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ resonate —Å –ª—é–¥—å–º–∏ –Ω–∞ –≥–ª—É–±–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ.</p>
        <p>–ú–æ–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —á–∞—Å—Ç–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É –∏ –±—ã–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—ã—Å—Ç–∞–≤–∫–∞—Ö.</p>
    </div>

    <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
    <div id="contact-page" class="contact-page">
        <h1>–°–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π</h1>
        <form class="contact-form">
            <div class="form-group">
                <label for="name">–ò–º—è</label>
                <input type="text" id="name" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" required>
            </div>
            <div class="form-group">
                <label for="message">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                <textarea id="message" required></textarea>
            </div>
            <button type="submit" class="submit-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <div class="mobile-bio-link" data-page="bio">–û–± –∞–≤—Ç–æ—Ä–µ</div>
        <div class="social-links">
            <a href="#" class="mobile-contact-link" id="contacts-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            <a href="https://www.instagram.com/janart_studio/" target="_blank">Instagram</a>
            <a href="https://wa.me/79046006365" target="_blank">WhatsApp</a>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ -->
    <div class="contacts-modal" id="contacts-modal">
        <div class="contacts-content">
            <div class="close-contacts" id="close-contacts">‚úï</div>
            <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
            <div class="contact-item">
                <span class="contact-label">Instagram</span>
                <a href="https://www.instagram.com/janart_studio/" target="_blank">@janart_studio</a>
            </div>
            <div class="contact-item">
                <span class="contact-label">WhatsApp</span>
                <a href="https://wa.me/79046068107" target="_blank">+7 (904) 606 81 07</a>
            </div>
            <div class="contact-item">
                <span class="contact-label">Email</span>
                <a href="mailto:tatiana.janart@gmail.com">tatiana.janart@gmail.com</a>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω—ã -->
    <div class="description-modal" id="description-modal">
        <div class="description-content">
            <div class="close-description" id="close-description">‚úï</div>
            <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω—ã</h2>
            
            <div class="form-group">
                <label for="painting-title">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã:</label>
                <input type="text" id="painting-title" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã">
            </div>
            
            <div class="form-group">
                <label for="painting-price">–¶–µ–Ω–∞:</label>
                <input type="text" id="painting-price" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É">
            </div>
            
            <div class="form-group">
                <label for="painting-size">–†–∞–∑–º–µ—Ä:</label>
                <input type="text" id="painting-size" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä">
            </div>
            
            <div class="form-group">
                <label for="painting-description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="painting-description" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã"></textarea>
            </div>
            
            <div class="form-group">
                <label>–§–æ—Ä–º–∞ —Ç–∞–±–ª–∏—á–∫–∏:</label>
                <div class="radio-group">
                    <label><input type="radio" name="shape-type" value="none" checked> –ù–µ—Ç</label>
                    <label><input type="radio" name="shape-type" value="rounded"> –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–π</label>
                    <label><input type="radio" name="shape-type" value="square"> –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–π</label>
                </div>
            </div>
            
            <div class="form-group" id="overlay-settings" style="display: none;">
                <label for="overlay-text">–¢–µ–∫—Å—Ç –Ω–∞ —Ç–∞–±–ª–∏—á–∫–µ:</label>
                <input type="text" id="overlay-text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–∞–±–ª–∏—á–∫–∏">
                
                <label for="overlay-color">–¶–≤–µ—Ç —Ç–∞–±–ª–∏—á–∫–∏:</label>
                <div class="color-picker">
                    <input type="color" id="overlay-color" value="#ff6b6b">
                    <div class="color-presets">
                        <div class="color-preset" style="background: #ff6b6b;" data-color="#ff6b6b"></div>
                        <div class="color-preset" style="background: #4ecdc4;" data-color="#4ecdc4"></div>
                        <div class="color-preset" style="background: #45b7d1;" data-color="#45b7d1"></div>
                        <div class="color-preset" style="background: #96ceb4;" data-color="#96ceb4"></div>
                        <div class="color-preset" style="background: #feca57;" data-color="#feca57"></div>
                        <div class="color-preset" style="background: #ff9ff3;" data-color="#ff9ff3"></div>
                        <div class="color-preset" style="background: #54a0ff;" data-color="#54a0ff"></div>
                        <div class="color-preset" style="background: #5f27cd;" data-color="#5f27cd"></div>
                    </div>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="admin-btn" id="save-description" style="background: #28a745;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="admin-btn" id="cancel-description" style="background: #6c757d;">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <script>
        // =====  GITHUB =====
        const GITHUB_CONFIG = {
            token: localStorage.getItem('github_token') || '',
            owner: localStorage.getItem('github_owner') || 'maksim92982',
            repo: localStorage.getItem('github_repo') || 'website',
            path: localStorage.getItem('github_path') || 'images/gallery'
        };

        // ===== –û–°–ù–û–í–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
        let galleryItems = [];
        let currentProduct = null;
        let currentImageIndex = 0;
        let touchStartX = 0;
        let touchEndX = 0;
        let numberOfPaintings = 3; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        let photosPerPainting = 1; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

        // ===== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° GITHUB API =====

        // –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–µ –≤ GitHub (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SHA)
        async function getFileInfo(path) {
            try {
                const response = await fetch(`https://api.github.com/repos/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}/contents/${path}`, {
                    headers: {
                        'Authorization': `token ${GITHUB_CONFIG.token}`
                    }
                });
                
                if (response.ok) {
                    return await response.json();
                } else if (response.status === 404) {
                    return null; // –§–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
                } else {
                    throw new Error(`–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ: ${response.status}`);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ:', error);
                return null;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ GitHub
        async function uploadImageToGitHub(file, paintingId, imageNumber) {
            const statusDiv = document.getElementById('upload-status');
            
            try {
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã)
                const fileExtension = getFileExtension(file.name);
                const filename = `${imageNumber}.${fileExtension}`;
                const path = `${GITHUB_CONFIG.path}/${paintingId}/${filename}`;
                
                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª –≤ base64
                const base64Content = await fileToBase64(file);
                
                // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —Ñ–∞–π–ª–µ (–¥–ª—è SHA)
                const existingFile = await getFileInfo(path);
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
                const requestData = {
                    message: `Add/Update image for painting ${paintingId}`,
                    content: base64Content.split(',')[1] // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ—Ñ–∏–∫—Å data:image/...;base64,
                };
                
                // –ï—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –¥–æ–±–∞–≤–ª—è–µ–º SHA
                if (existingFile && existingFile.sha) {
                    requestData.sha = existingFile.sha;
                }
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –∫ GitHub API
                const response = await fetch(`https://api.github.com/repos/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}/contents/${path}`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token ${GITHUB_CONFIG.token}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestData)
                });
                
                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    throw new Error(errorData.message || `–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${response.status}`);
                }
                
                const data = await response.json();
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º raw URL –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const rawUrl = data.content.download_url;
                
                return rawUrl;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ GitHub:', error);
                if (statusDiv) {
                    statusDiv.textContent = `–û—à–∏–±–∫–∞: ${error.message}`;
                    statusDiv.className = 'upload-status error';
                }
                throw error;
            }
        }

        // –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã)
        function getFileExtension(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            
            // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            const supportedFormats = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'heic', 'heif', 'tiff', 'svg'];
            
            // –ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
            if (supportedFormats.includes(ext)) {
                return ext;
            }
            
            // –ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ jpg
            return 'jpg';
        }

        // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–∞ –≤ base64
        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result);
                reader.onerror = error => reject(error);
            });
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ GitHub
        async function testGitHubConnection() {
            const statusDiv = document.getElementById('config-status');
            const testBtn = document.getElementById('test-connection');
            
            try {
                testBtn.disabled = true;
                statusDiv.textContent = '–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...';
                statusDiv.className = 'config-status warning';
                
                const response = await fetch(`https://api.github.com/repos/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}`, {
                    headers: {
                        'Authorization': `token ${GITHUB_CONFIG.token}`
                    }
                });
                
                if (response.ok) {
                    statusDiv.textContent = '‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–æ—Å—Ç—É–ø–µ–Ω.';
                    statusDiv.className = 'config-status success';
                } else {
                    throw new Error(`–û—à–∏–±–∫–∞: ${response.status} ${response.statusText}`);
                }
            } catch (error) {
                statusDiv.textContent = `‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ${error.message}`;
                statusDiv.className = 'config-status error';
            } finally {
                testBtn.disabled = false;
            }
        }

        // ===== –§–£–ù–ö–¶–ò–ò –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–ò =====

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—É—â–∏–π URL –∞–¥–º–∏–Ω—Å–∫–∏–º
        function checkAdminURL() {
            const currentPath = window.location.pathname;
            const currentHash = window.location.hash;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º URL –≤–∏–¥–∞ janart-studio.ru/admin12345 –∏–ª–∏ localhost:8080/admin12345
            if (currentPath.includes('/admin12345') || currentHash === '#admin12345') {
                showAdminPanel();
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        function showAdminPanel() {
            const adminPanel = document.getElementById('admin-panel');
            if (adminPanel) {
                adminPanel.style.display = 'block';
                loadPaintingsList();
                loadGithubConfig();
                generatePhotosConfig();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub
        function loadGithubConfig() {
            document.getElementById('github-token').value = GITHUB_CONFIG.token;
            document.getElementById('github-owner').value = GITHUB_CONFIG.owner;
            document.getElementById('github-repo').value = GITHUB_CONFIG.repo;
            document.getElementById('github-path').value = GITHUB_CONFIG.path;
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub
        function saveGithubConfig() {
            GITHUB_CONFIG.token = document.getElementById('github-token').value;
            GITHUB_CONFIG.owner = document.getElementById('github-owner').value;
            GITHUB_CONFIG.repo = document.getElementById('github-repo').value;
            GITHUB_CONFIG.path = document.getElementById('github-path').value;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('github_token', GITHUB_CONFIG.token);
            localStorage.setItem('github_owner', GITHUB_CONFIG.owner);
            localStorage.setItem('github_repo', GITHUB_CONFIG.repo);
            localStorage.setItem('github_path', GITHUB_CONFIG.path);
            
            const statusDiv = document.getElementById('config-status');
            statusDiv.textContent = '‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!';
            statusDiv.className = 'config-status success';
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞—Ä—Ç–∏–Ω
        async function savePaintingsSettings() {
            const count = parseInt(document.getElementById('paintings-count').value);
            if (count && count > 0) {
                numberOfPaintings = count;
                localStorage.setItem('numberOfPaintings', numberOfPaintings);
                
                // –°–æ–∑–¥–∞–µ–º –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã
                await createMissingPaintings();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
                generatePhotosConfig();
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–∏–Ω
                generatePaintingsOrderConfig();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≥–∞–ª–µ—Ä–µ—é
                initGallery();
                
                alert(`–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã! –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω: ${count}`);
            } else {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω');
            }
        }

        // –°–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã
        async function createMissingPaintings() {
            // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã—Ö –µ—â–µ –Ω–µ—Ç
            for (let i = 1; i <= numberOfPaintings; i++) {
                const paintingIndex = i - 1;
                
                // –ï—Å–ª–∏ –∫–∞—Ä—Ç–∏–Ω—ã –µ—â–µ –Ω–µ—Ç, —Å–æ–∑–¥–∞–µ–º –µ–µ
                if (!galleryItems[paintingIndex]) {
                    const newPainting = {
                        id: i,
                        title: `–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, ‚Ññ${i}`,
                        size: i % 2 === 0 ? '36" x 48"' : '48" x 36"',
                        price: i === 5 ? "2 160 ‚ÇΩ" : "3 450 ‚ÇΩ",
                        mainImage: '', // –ü—É—Å—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        images: [], // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
                        soldOut: false,
                        description: "–ê–∫—Ä–∏–ª, –º—Ä–∞–º–æ—Ä–Ω–∞—è –ø—ã–ª—å –∏ –ø–∏–≥–º–µ–Ω—Ç –Ω–∞ —Ö–æ–ª—Å—Ç–µ, 2024"
                    };
                    
                    galleryItems[paintingIndex] = newPainting;
                }
            }
            
            // –£–¥–∞–ª—è–µ–º –ª–∏—à–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã, –µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–º–µ–Ω—å—à–∏–ª–æ—Å—å
            if (galleryItems.length > numberOfPaintings) {
                galleryItems.splice(numberOfPaintings);
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            await saveGalleryDataComplete();
        }

        // –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –∫–∞—Ä—Ç–∏–Ω
        function generatePhotosConfig() {
            const container = document.getElementById('paintings-photos-config');
            if (!container) return;
            
            container.innerHTML = '';
            
            for (let i = 1; i <= numberOfPaintings; i++) {
                const paintingIndex = i - 1;
                const currentPainting = galleryItems[paintingIndex];
                const currentPhotosCount = currentPainting && currentPainting.images ? currentPainting.images.length : 0;
                
                const paintingDiv = document.createElement('div');
                paintingDiv.className = 'painting-photos-config';
                paintingDiv.style.cssText = 'margin-bottom: 20px; padding: 20px; border: 1px solid #ddd; border-radius: 8px; background: #f9f9f9;';
                
                paintingDiv.innerHTML = `
                    <h4>–ö–∞—Ä—Ç–∏–Ω–∞ ‚Ññ${i} ${currentPainting ? `"${currentPainting.title}"` : ''}</h4>
                    <div style="margin-bottom: 15px;">
                        <strong>–¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π: <span id="current-photos-count-${i}" style="color: #007bff;">${currentPhotosCount}</span></strong>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <button class="admin-btn" id="add-photos-btn-${i}" style="margin-right: 10px;">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</button>
                        <button class="admin-btn" id="manage-photos-btn-${i}" style="background: #28a745; margin-right: 10px;">–£–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏</button>
                        <button class="admin-btn" id="delete-painting-btn-${i}" style="background: #dc3545; margin-right: 10px;">–£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É</button>
                        <button class="admin-btn" id="move-painting-up-btn-${i}" style="background: #17a2b8; margin-right: 5px; padding: 5px 10px; font-size: 12px;">‚Üë –í–≤–µ—Ä—Ö</button>
                        <button class="admin-btn" id="move-painting-down-btn-${i}" style="background: #17a2b8; margin-right: 10px; padding: 5px 10px; font-size: 12px;">‚Üì –í–Ω–∏–∑</button>
                        <button class="admin-btn" id="description-btn-${i}" style="background: #6f42c1; margin-right: 10px;">–û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã</button>
                    </div>
                    <div id="photos-preview-${i}" class="image-preview" style="margin-top: 10px;"></div>
                    <div id="photos-management-${i}" style="display: none; margin-top: 15px; padding: 15px; background: white; border-radius: 5px; border: 1px solid #ccc;">
                        <h5>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏:</h5>
                        <div id="photos-list-${i}"></div>
                    </div>
                `;
                
                container.appendChild(paintingDiv);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
            for (let i = 1; i <= numberOfPaintings; i++) {
                const addBtn = document.getElementById(`add-photos-btn-${i}`);
                const manageBtn = document.getElementById(`manage-photos-btn-${i}`);
                const moveUpBtn = document.getElementById(`move-painting-up-btn-${i}`);
                const moveDownBtn = document.getElementById(`move-painting-down-btn-${i}`);
                const deleteBtn = document.getElementById(`delete-painting-btn-${i}`);
                const descriptionBtn = document.getElementById(`description-btn-${i}`);
                
                if (addBtn) {
                    addBtn.addEventListener('click', function() {
                        addPhotosForPainting(i);
                    });
                }
                
                if (manageBtn) {
                    manageBtn.addEventListener('click', function() {
                        togglePhotosManagement(i);
                    });
                }
                
                if (moveUpBtn) {
                    moveUpBtn.addEventListener('click', function() {
                        movePaintingInList(i - 1, 'up');
                    });
                }
                
                if (moveDownBtn) {
                    moveDownBtn.addEventListener('click', function() {
                        movePaintingInList(i - 1, 'down');
                    });
                }
                
                if (deleteBtn) {
                    deleteBtn.addEventListener('click', function() {
                        deletePainting(i - 1);
                    });
                }
                
                if (descriptionBtn) {
                    descriptionBtn.addEventListener('click', function() {
                        openDescriptionModal(i - 1);
                    });
                }
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
        function togglePhotosManagement(paintingNumber) {
            const managementDiv = document.getElementById(`photos-management-${paintingNumber}`);
            const photosListDiv = document.getElementById(`photos-list-${paintingNumber}`);
            
            if (managementDiv.style.display === 'none') {
                managementDiv.style.display = 'block';
                loadPhotosList(paintingNumber);
            } else {
                managementDiv.style.display = 'none';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        function loadPhotosList(paintingNumber) {
            const photosListDiv = document.getElementById(`photos-list-${paintingNumber}`);
            const paintingIndex = paintingNumber - 1;
            const painting = galleryItems[paintingIndex];
            
            if (!painting || !painting.images || painting.images.length === 0) {
                photosListDiv.innerHTML = '<p>–£ —ç—Ç–æ–π –∫–∞—Ä—Ç–∏–Ω—ã –Ω–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π. –î–æ–±–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏".</p>';
                return;
            }
            
            photosListDiv.innerHTML = `
                <div style="margin-bottom: 15px; padding: 10px; background: #e9ecef; border-radius: 5px;">
                    <strong>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:</strong>
                    <div style="margin-top: 10px;">
                        <button class="admin-btn" onclick="moveSelectedPhoto(${paintingNumber}, 'up')" style="margin-right: 10px; padding: 5px 15px; font-size: 12px;">‚Üë –í–≤–µ—Ä—Ö</button>
                        <button class="admin-btn" onclick="moveSelectedPhoto(${paintingNumber}, 'down')" style="padding: 5px 15px; font-size: 12px;">‚Üì –í–Ω–∏–∑</button>
                    </div>
                </div>
            `;
            
            painting.images.forEach((imageUrl, index) => {
                const photoDiv = document.createElement('div');
                photoDiv.style.cssText = 'display: flex; align-items: center; margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; background: white;';
                
                photoDiv.innerHTML = `
                    <input type="radio" name="photo-${paintingNumber}" value="${index}" style="margin-right: 15px;">
                    <img src="${imageUrl}" style="width: 60px; height: 60px; object-fit: cover; margin-right: 15px; border-radius: 4px;">
                    <div style="flex: 1;">
                        <div><strong>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è ‚Ññ${index + 1}</strong></div>
                        <div style="font-size: 12px; color: #666; margin-top: 5px;">${imageUrl.split('/').pop()}</div>
                    </div>
                    <button class="admin-btn" onclick="deletePhoto(${paintingNumber}, ${index})" style="background: #dc3545; padding: 5px 10px; font-size: 12px;">–£–¥–∞–ª–∏—Ç—å</button>
                `;
                
                photosListDiv.appendChild(photoDiv);
            });
        }

        // –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
        async function deletePhoto(paintingNumber, photoIndex) {
            const paintingIndex = paintingNumber - 1;
            const painting = galleryItems[paintingIndex];
            
            if (!painting || !painting.images || painting.images.length === 0) {
                return;
            }
            
            if (confirm(`–£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é ‚Ññ${photoIndex + 1}?`)) {
                // –£–¥–∞–ª—è–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –∏–∑ –º–∞—Å—Å–∏–≤–∞
                painting.images.splice(photoIndex, 1);
                
                // –ï—Å–ª–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å, —É–¥–∞–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω—É
                if (painting.images.length === 0) {
                    galleryItems.splice(paintingIndex, 1);
                    alert('–£ –∫–∞—Ä—Ç–∏–Ω—ã –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π. –ö–∞—Ä—Ç–∏–Ω–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏.');
                } else {
                    // –û–±–Ω–æ–≤–ª—è–µ–º –≥–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    painting.mainImage = painting.images[0];
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
                await saveGalleryDataComplete();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≥–∞–ª–µ—Ä–µ—é
                initGallery();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
                generatePhotosConfig();
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–∏–Ω
                generatePaintingsOrderConfig();
                
                alert('–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É–¥–∞–ª–µ–Ω–∞!');
            }
        }

        // –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
        function moveSelectedPhoto(paintingNumber, direction) {
            const paintingIndex = paintingNumber - 1;
            const painting = galleryItems[paintingIndex];
            
            if (!painting || !painting.images) {
                alert('–ö–∞—Ä—Ç–∏–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                return;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
            const selectedRadio = document.querySelector(`input[name="photo-${paintingNumber}"]:checked`);
            if (!selectedRadio) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è');
                return;
            }
            
            const selectedIndex = parseInt(selectedRadio.value);
            const newIndex = direction === 'up' ? selectedIndex - 1 : selectedIndex + 1;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥—Ä–∞–Ω–∏—Ü—ã
            if (newIndex < 0 || newIndex >= painting.images.length) {
                alert(`–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é ${direction === 'up' ? '–≤–≤–µ—Ä—Ö' : '–≤–Ω–∏–∑'}`);
                return;
            }
            
            // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
            const imageToMove = painting.images[selectedIndex];
            painting.images.splice(selectedIndex, 1);
            painting.images.splice(newIndex, 0, imageToMove);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ –ø–µ—Ä–≤—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
            if (selectedIndex === 0 || newIndex === 0) {
                painting.mainImage = painting.images[0];
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            saveGalleryData();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–∞–ª–µ—Ä–µ—é
            initGallery();
            
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
            loadPhotosList(paintingNumber);
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏
            setTimeout(() => {
                const newRadio = document.querySelector(`input[name="photo-${paintingNumber}"][value="${newIndex}"]`);
                if (newRadio) {
                    newRadio.checked = true;
                }
            }, 100);
        }

        // –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É
        async function deletePainting(paintingIndex) {
            const painting = galleryItems[paintingIndex];
            
            if (!painting) {
                alert('–ö–∞—Ä—Ç–∏–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                return;
            }
            
            if (confirm(`–£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É "${painting.title}"?`)) {
                galleryItems.splice(paintingIndex, 1);
                await saveGalleryDataComplete();
                initGallery();
                generatePhotosConfig();
                generatePaintingsOrderConfig();
                alert('–ö–∞—Ä—Ç–∏–Ω–∞ —É–¥–∞–ª–µ–Ω–∞!');
            }
        }

        // –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω—ã
        function addPhotosForPainting(paintingNumber) {
            const input = document.createElement('input');
            input.type = 'file';
            input.multiple = true;
            input.accept = 'image/*,.heic,.heif';
            
            input.addEventListener('change', async function() {
                if (this.files && this.files.length > 0) {
                    await uploadPhotosForPainting(paintingNumber, this.files);
                }
            });
            
            input.click();
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω—ã –≤ GitHub
        async function uploadPhotosForPainting(paintingNumber, files) {
            const statusDiv = document.getElementById(`photos-preview-${paintingNumber}`);
            const addBtn = document.getElementById(`add-photos-btn-${paintingNumber}`);
            
            if (!GITHUB_CONFIG.token) {
                statusDiv.innerHTML = '<div class="error">–°–Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub —Ç–æ–∫–µ–Ω</div>';
                return;
            }
            
            addBtn.disabled = true;
            statusDiv.innerHTML = '<div class="warning">–ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏...</div>';
            
            try {
                const imageUrls = [];
                let successCount = 0;
                
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    try {
                        const imageUrl = await uploadImageToGitHub(file, paintingNumber, i + 1);
                        imageUrls.push(imageUrl);
                        successCount++;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                        statusDiv.innerHTML = `<div class="warning">–ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏... (${successCount}/${files.length})</div>`;
                    } catch (error) {
                        console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ ${file.name}:`, error);
                        // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤
                    }
                }
                
                if (successCount > 0) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω—É –≤ –≥–∞–ª–µ—Ä–µ–µ
                    const paintingIndex = paintingNumber - 1;
                    
                    // –ï—Å–ª–∏ –∫–∞—Ä—Ç–∏–Ω—ã –µ—â–µ –Ω–µ—Ç, —Å–æ–∑–¥–∞–µ–º –µ–µ
                    if (!galleryItems[paintingIndex]) {
                        galleryItems[paintingIndex] = {
                            id: paintingNumber,
                            title: `–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, ‚Ññ${paintingNumber}`,
                            size: paintingNumber % 2 === 0 ? '36" x 48"' : '48" x 36"',
                            price: paintingNumber === 5 ? "2 160 ‚ÇΩ" : "3 450 ‚ÇΩ",
                            mainImage: '',
                            images: [],
                            soldOut: false,
                            description: "–ê–∫—Ä–∏–ª, –º—Ä–∞–º–æ—Ä–Ω–∞—è –ø—ã–ª—å –∏ –ø–∏–≥–º–µ–Ω—Ç –Ω–∞ —Ö–æ–ª—Å—Ç–µ, 2024"
                        };
                    }
                    
                    // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –Ω–æ–≤—ã–º–∏
                    const existingImages = galleryItems[paintingIndex].images || [];
                    galleryItems[paintingIndex].images = [...existingImages, ...imageUrls];
                    galleryItems[paintingIndex].mainImage = galleryItems[paintingIndex].images[0];
                    await saveGalleryDataComplete();
                    initGallery(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –≥–∞–ª–µ—Ä–µ—é
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
                    generatePhotosConfig();
                    
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–∏–Ω
                    generatePaintingsOrderConfig();
                    
                    statusDiv.innerHTML = `<div class="success">‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${successCount} –∏–∑ ${files.length} —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –∫–∞—Ä—Ç–∏–Ω—ã ‚Ññ${paintingNumber}. –¢–µ–ø–µ—Ä—å —É –∫–∞—Ä—Ç–∏–Ω—ã ${galleryItems[paintingIndex].images.length} —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π.</div>`;
                } else {
                    statusDiv.innerHTML = `<div class="error">‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∏ –æ–¥–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</div>`;
                }
                
            } catch (error) {
                statusDiv.innerHTML = `<div class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
            } finally {
                addBtn.disabled = false;
            }
        }

        // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω—É —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –≤ GitHub
        async function addNewPainting() {
            const title = document.getElementById('painting-title').value;
            const size = document.getElementById('painting-size').value;
            const price = document.getElementById('painting-price').value;
            const description = document.getElementById('painting-description').value;
            const imageInput = document.getElementById('painting-images');
            const statusDiv = document.getElementById('upload-status');
            const addButton = document.getElementById('add-painting');
            const progressBar = document.getElementById('upload-progress');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub
            if (!GITHUB_CONFIG.token || !GITHUB_CONFIG.owner || !GITHUB_CONFIG.repo) {
                statusDiv.textContent = '–°–Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub';
                statusDiv.className = 'upload-status error';
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π
            if (!title || !size || !price || !description) {
                statusDiv.textContent = '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è';
                statusDiv.className = 'upload-status error';
                return;
            }
            
            if (!imageInput.files || imageInput.files.length === 0) {
                statusDiv.textContent = '–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ';
                statusDiv.className = 'upload-status error';
                return;
            }
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
            addButton.disabled = true;
            statusDiv.textContent = '–ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É...';
            statusDiv.className = 'upload-status warning';
            progressBar.style.display = 'block';
            
            try {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID –¥–ª—è –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–∏–Ω—ã
                const paintingId = Date.now(); // –ò—Å–ø–æ–ª—å–∑—É–µ–º timestamp –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
                const imageUrls = [];
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                let successCount = 0;
                for (let i = 0; i < imageInput.files.length; i++) {
                    const file = imageInput.files[i];
                    
                    try {
                        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                        const progress = Math.round((i / imageInput.files.length) * 100);
                        document.getElementById('progress-fill').style.width = `${progress}%`;
                        statusDiv.textContent = `–ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${i + 1} –∏–∑ ${imageInput.files.length}`;
                        
                        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ GitHub
                        const imageUrl = await uploadImageToGitHub(file, paintingId, i + 1);
                        imageUrls.push(imageUrl);
                        successCount++;
                    } catch (error) {
                        console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ ${file.name}:`, error);
                        // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤
                    }
                }
                
                if (successCount === 0) {
                    throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
                }
                
                // –ü–æ–ª–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                document.getElementById('progress-fill').style.width = '100%';
                
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –≥–∞–ª–µ—Ä–µ–∏
                const newItem = {
                    id: paintingId,
                    title: title,
                    size: size,
                    price: price,
                    mainImage: imageUrls[0],
                    images: imageUrls,
                    soldOut: false,
                    description: description
                };
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –º–∞—Å—Å–∏–≤
                galleryItems.push(newItem);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                saveGalleryData();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≥–∞–ª–µ—Ä–µ—é
                initGallery();
                
                // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                document.getElementById('painting-title').value = '';
                document.getElementById('painting-size').value = '';
                document.getElementById('painting-price').value = '';
                document.getElementById('painting-description').value = '';
                document.getElementById('image-preview').innerHTML = '';
                imageInput.value = '';
                progressBar.style.display = 'none';
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                statusDiv.textContent = `‚úÖ –ö–∞—Ä—Ç–∏–Ω–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞! –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${successCount} –∏–∑ ${imageInput.files.length} –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ GitHub.`;
                statusDiv.className = 'upload-status success';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–∏–Ω
                loadPaintingsList();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω—ã:', error);
                statusDiv.textContent = `‚ùå –û—à–∏–±–∫–∞: ${error.message}`;
                statusDiv.className = 'upload-status error';
            } finally {
                // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
                addButton.disabled = false;
            }
        }

        // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
        function setupImagePreview() {
            const imageInput = document.getElementById('painting-images');
            const previewContainer = document.getElementById('image-preview');
            
            if (imageInput && previewContainer) {
                imageInput.addEventListener('change', function() {
                    previewContainer.innerHTML = '';
                    const statusDiv = document.getElementById('upload-status');
                    statusDiv.className = 'upload-status';
                    statusDiv.textContent = '';
                    
                    if (this.files && this.files.length > 0) {
                        for (let i = 0; i < this.files.length; i++) {
                            const file = this.files[i];
                            const reader = new FileReader();
                            
                            reader.onload = function(e) {
                                const img = document.createElement('img');
                                img.src = e.target.result;
                                img.className = 'preview-img';
                                previewContainer.appendChild(img);
                            }
                            
                            reader.readAsDataURL(file);
                        }
                        
                        statusDiv.textContent = `–í—ã–±—Ä–∞–Ω–æ ${this.files.length} –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π`;
                        statusDiv.className = 'upload-status success';
                    }
                });
            }
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–∏–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        function loadPaintingsList() {
            const paintingsList = document.getElementById('paintings-list');
            if (!paintingsList) return;
            
            paintingsList.innerHTML = '<p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç–∏–Ω...</p>';
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ GitHub
            // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage
            setTimeout(() => {
                paintingsList.innerHTML = '';
                
                if (galleryItems.length === 0) {
                    paintingsList.innerHTML = '<p>–ö–∞—Ä—Ç–∏–Ω –ø–æ–∫–∞ –Ω–µ—Ç</p>';
                    return;
                }
                
                galleryItems.forEach((item, index) => {
                    const paintingElement = document.createElement('div');
                    paintingElement.className = 'painting-item';
                    paintingElement.innerHTML = `
                        <h3>${item.title}</h3>
                        <p>–†–∞–∑–º–µ—Ä: ${item.size} | –¶–µ–Ω–∞: ${item.price}</p>
                        <p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ: ${item.images.length}</p>
                        <button class="delete-btn" data-index="${index}">–£–¥–∞–ª–∏—Ç—å</button>
                    `;
                    
                    paintingsList.appendChild(paintingElement);
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è
                document.querySelectorAll('.delete-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        deletePainting(index);
                    });
                });
            }, 500);
        }

        // –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É
        async function deletePainting(index) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–∞—Ä—Ç–∏–Ω—É?')) {
                galleryItems.splice(index, 1);
                await saveGalleryDataComplete();
                loadPaintingsList();
                initGallery(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –≥–∞–ª–µ—Ä–µ—é
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –≤ localStorage
        function saveGalleryData() {
            localStorage.setItem('janart_gallery_data', JSON.stringify(galleryItems));
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ (localStorage + GitHub)
        async function saveGalleryDataComplete() {
            saveGalleryData(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            await saveGalleryDataToGitHub(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ GitHub
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –≤ GitHub
        async function saveGalleryDataToGitHub() {
            if (!GITHUB_CONFIG.token) {
                console.log('GitHub —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ');
                return;
            }

            try {
                const galleryData = {
                    paintings: galleryItems,
                    lastUpdated: new Date().toISOString(),
                    version: '1.0'
                };

                const content = JSON.stringify(galleryData, null, 2);
                const encodedContent = btoa(unescape(encodeURIComponent(content)));
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª
                const filePath = 'gallery-data.json';
                const existingFile = await getFileInfo(filePath);
                
                const requestData = {
                    message: `Update gallery data - ${new Date().toLocaleString()}`,
                    content: encodedContent
                };
                
                if (existingFile && existingFile.sha) {
                    requestData.sha = existingFile.sha;
                }
                
                const response = await fetch(`https://api.github.com/repos/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}/contents/${filePath}`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token ${GITHUB_CONFIG.token}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestData)
                });
                
                if (response.ok) {
                    console.log('–î–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ GitHub');
                } else {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ GitHub:', response.status);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–∏ –≤ GitHub:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –∏–∑ GitHub
        async function loadGalleryDataFromGitHub() {
            try {
                const filePath = 'gallery-data.json';
                const response = await fetch(`https://raw.githubusercontent.com/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}/main/${filePath}`);
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.paintings && Array.isArray(data.paintings)) {
                        galleryItems = data.paintings;
                        saveGalleryData(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
                        console.log('–î–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ GitHub');
                        return true;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–∏ –∏–∑ GitHub:', error);
            }
            
            return false;
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –∏–∑ localStorage
        function loadGalleryData() {
            const savedData = localStorage.getItem('janart_gallery_data');
            if (savedData) {
                return JSON.parse(savedData);
            }
            return null;
        }

        // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏
        async function clearAllGalleryData() {
            const statusDiv = document.getElementById('clear-status');
            const clearBtn = document.getElementById('clear-all-data');
            
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!')) {
                return;
            }
            
            if (!confirm('–ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ! –í—Å–µ –∫–∞—Ä—Ç–∏–Ω—ã, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –Ω–∞–≤—Å–µ–≥–¥–∞!')) {
                return;
            }
            
            clearBtn.disabled = true;
            statusDiv.innerHTML = '<div class="warning">–û—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ...</div>';
            
            try {
                // –û—á–∏—â–∞–µ–º –º–∞—Å—Å–∏–≤ –∫–∞—Ä—Ç–∏–Ω
                galleryItems = [];
                
                // –û—á–∏—â–∞–µ–º localStorage
                localStorage.removeItem('janart_gallery_data');
                localStorage.removeItem('numberOfPaintings');
                localStorage.removeItem('photosConfig');
                
                // –û—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ GitHub
                if (GITHUB_CONFIG.token) {
                    await clearGitHubData();
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                initGallery();
                generatePhotosConfig();
                generatePaintingsOrderConfig();
                
                statusDiv.innerHTML = '<div class="success">‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ —É—Å–ø–µ—à–Ω–æ –æ—á–∏—â–µ–Ω—ã!</div>';
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω
                document.getElementById('paintings-count').value = '3';
                numberOfPaintings = 3;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                statusDiv.innerHTML = '<div class="error">‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö: ' + error.message + '</div>';
            } finally {
                clearBtn.disabled = false;
            }
        }

        // –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ GitHub
        async function clearGitHubData() {
            try {
                // –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª gallery-data.json
                const filePath = 'gallery-data.json';
                const existingFile = await getFileInfo(filePath);
                
                if (existingFile && existingFile.sha) {
                    await fetch(`https://api.github.com/repos/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}/contents/${filePath}`, {
                        method: 'DELETE',
                        headers: {
                            'Authorization': `token ${GITHUB_CONFIG.token}`,
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            message: 'Clear all gallery data',
                            sha: existingFile.sha
                        })
                    });
                }
                
                console.log('–î–∞–Ω–Ω—ã–µ –≤ GitHub –æ—á–∏—â–µ–Ω—ã');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ GitHub:', error);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        function initAdminPanel() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º URL –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            checkAdminURL();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            loadAdminSettings();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è
            const adminCloseBtn = document.getElementById('admin-close');
            if (adminCloseBtn) {
                adminCloseBtn.addEventListener('click', function() {
                    document.getElementById('admin-panel').style.display = 'none';
                    window.location.hash = '';
                });
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ GitHub
            const saveGithubBtn = document.getElementById('save-github-config');
            if (saveGithubBtn) {
                saveGithubBtn.addEventListener('click', saveGithubConfig);
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
            const testConnectionBtn = document.getElementById('test-connection');
            if (testConnectionBtn) {
                testConnectionBtn.addEventListener('click', testGitHubConnection);
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
            const saveSettingsBtn = document.getElementById('save-settings');
            if (saveSettingsBtn) {
                saveSettingsBtn.addEventListener('click', savePaintingsSettings);
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
            const savePhotosConfigBtn = document.getElementById('save-photos-config');
            if (savePhotosConfigBtn) {
                savePhotosConfigBtn.addEventListener('click', function() {
                    alert('–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
                });
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
            const clearAllDataBtn = document.getElementById('clear-all-data');
            if (clearAllDataBtn) {
                clearAllDataBtn.addEventListener('click', clearAllGalleryData);
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            setupImagePreview();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω—ã
            const addPaintingBtn = document.getElementById('add-painting');
            if (addPaintingBtn) {
                addPaintingBtn.addEventListener('click', addNewPainting);
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            const savedData = loadGalleryData();
            if (savedData) {
                galleryItems = savedData;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        function loadAdminSettings() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω
            const savedPaintingsCount = localStorage.getItem('numberOfPaintings');
            if (savedPaintingsCount) {
                numberOfPaintings = parseInt(savedPaintingsCount);
                document.getElementById('paintings-count').value = numberOfPaintings;
            }
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
            generatePhotosConfig();
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–∏–Ω
            generatePaintingsOrderConfig();
        }

        // –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–∏–Ω
        function generatePaintingsOrderConfig() {
            const container = document.getElementById('paintings-order-config');
            if (!container) return;
            
            container.innerHTML = '';
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–∞—Ä—Ç–∏–Ω—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
            const validPaintings = galleryItems.filter(item => item && item.images && item.images.length > 0);
            
            if (validPaintings.length === 0) {
                container.innerHTML = '<p>–ù–µ—Ç –∫–∞—Ä—Ç–∏–Ω —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞</p>';
                return;
            }
            
            validPaintings.forEach((painting, index) => {
                const paintingDiv = document.createElement('div');
                paintingDiv.style.cssText = 'display: flex; align-items: center; margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; background: white;';
                
                paintingDiv.innerHTML = `
                    <input type="radio" name="painting-order" value="${galleryItems.indexOf(painting)}" style="margin-right: 15px;">
                    <img src="${painting.mainImage}" style="width: 60px; height: 60px; object-fit: cover; margin-right: 15px; border-radius: 4px;">
                    <div style="flex: 1;">
                        <div><strong>${painting.title}</strong></div>
                        <div style="font-size: 12px; color: #666; margin-top: 5px;">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π: ${painting.images.length} | –ü–æ–∑–∏—Ü–∏—è: ${index + 1}</div>
                    </div>
                `;
                
                container.appendChild(paintingDiv);
            });
        }

        // –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É –≤ —Å–ø–∏—Å–∫–µ (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–∏–Ω—ã)
        async function movePaintingInList(paintingIndex, direction) {
            const newIndex = direction === 'up' ? paintingIndex - 1 : paintingIndex + 1;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥—Ä–∞–Ω–∏—Ü—ã
            if (newIndex < 0 || newIndex >= galleryItems.length) {
                return; // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É, –ø—Ä–æ—Å—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
            }
            
            // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫–∞—Ä—Ç–∏–Ω—É
            const paintingToMove = galleryItems[paintingIndex];
            galleryItems.splice(paintingIndex, 1);
            galleryItems.splice(newIndex, 0, paintingToMove);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            await saveGalleryDataComplete();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–∞–ª–µ—Ä–µ—é
            initGallery();
            
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
            generatePhotosConfig();
            generatePaintingsOrderConfig();
        }

        // –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É (—Å—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–æ–∫)
        async function moveSelectedPainting(direction) {
            // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É
            const selectedRadio = document.querySelector('input[name="painting-order"]:checked');
            if (!selectedRadio) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç–∏–Ω—É –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è');
                return;
            }
            
            const selectedIndex = parseInt(selectedRadio.value);
            const newIndex = direction === 'up' ? selectedIndex - 1 : selectedIndex + 1;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥—Ä–∞–Ω–∏—Ü—ã
            if (newIndex < 0 || newIndex >= galleryItems.length) {
                alert(`–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω—É ${direction === 'up' ? '–≤–≤–µ—Ä—Ö' : '–≤–Ω–∏–∑'}`);
                return;
            }
            
            // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫–∞—Ä—Ç–∏–Ω—É
            const paintingToMove = galleryItems[selectedIndex];
            galleryItems.splice(selectedIndex, 1);
            galleryItems.splice(newIndex, 0, paintingToMove);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            await saveGalleryDataComplete();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–∞–ª–µ—Ä–µ—é
            initGallery();
            
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ—Ä—è–¥–∫–∞
            generatePaintingsOrderConfig();
        }

        // ===== –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨ –°–ê–ô–¢–ê =====
        // (–≤–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏
        async function initializeGalleryItems() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ localStorage
            const savedPaintingsCount = localStorage.getItem('numberOfPaintings');
            if (savedPaintingsCount) {
                numberOfPaintings = parseInt(savedPaintingsCount);
            }
            
            // –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ GitHub
            const loadedFromGitHub = await loadGalleryDataFromGitHub();
            
            if (loadedFromGitHub) {
                // –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ GitHub
                return;
            }
            
            // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ GitHub, –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ localStorage
            const savedData = loadGalleryData();
            if (savedData && savedData.length > 0) {
                galleryItems = savedData;
                return;
            }
            
            // –î–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            galleryItems = Array.from({length: numberOfPaintings}, (_, i) => {
                const paintingNumber = i + 1;
                const images = Array.from({length: photosPerPainting}, (_, j) => {
                    const photoNumber = j + 1;
                    return `https://raw.githubusercontent.com/maksim92982/website/main/images/gallery/${paintingNumber}/${photoNumber}.JPG`;
                });
                
                return {
                    id: paintingNumber,
                    title: `–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, ‚Ññ${paintingNumber}`,
                    size: paintingNumber % 2 === 0 ? '36" x 48"' : '48" x 36"',
                    price: paintingNumber === 5 ? "2 160 ‚ÇΩ" : "3 450 ‚ÇΩ",
                    mainImage: images[0],
                    images: images,
                    soldOut: false,
                    description: "–ê–∫—Ä–∏–ª, –º—Ä–∞–º–æ—Ä–Ω–∞—è –ø—ã–ª—å –∏ –ø–∏–≥–º–µ–Ω—Ç –Ω–∞ —Ö–æ–ª—Å—Ç–µ, 2024"
                };
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            saveGalleryData();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', async function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏
            await initializeGalleryItems();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            initGallery();
            initNavigation();
            initForms();
            initContactsModal();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
            initAdminPanel();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–∏—Å–∞–Ω–∏—è –ø–æ—Å–ª–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
            initDescriptionModal();
            
            document.getElementById('main-hero').addEventListener('click', function() {
                showPage('gallery');
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –ª–æ–≥–æ—Ç–∏–ø—É
            document.getElementById('home-logo').addEventListener('click', function() {
                showPage('home');
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —Å—Ç—Ä–µ–ª–æ–∫
            document.addEventListener('keydown', handleKeyPress);
        });



        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–∞–ª–µ—Ä–µ–∏
        function initGallery() {
            const galleryContainer = document.querySelector('.gallery');
            if (!galleryContainer) return;
            
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            galleryContainer.innerHTML = '';
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–∞—Ä—Ç–∏–Ω—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            const validGalleryItems = galleryItems.filter(item => item && item.images && item.images.length > 0);
            
            if (validGalleryItems.length === 0) {
                galleryContainer.innerHTML = '<div class="gallery-empty">–ì–∞–ª–µ—Ä–µ—è –ø—É—Å—Ç–∞. –î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä—Ç–∏–Ω—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.</div>';
                return;
            }
            
            validGalleryItems.forEach(item => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.innerHTML = `
                    <img src="${item.mainImage}" alt="${item.title}">
                    <div class="gallery-item-overlay">
                        <div class="product-title">${item.title}</div>
                        <div class="product-price">${item.price}</div>
                        <div class="product-photos-count">–§–æ—Ç–æ: ${item.images.length}</div>
                    </div>
                    ${item.soldOut ? '<div class="sold-out">–ü—Ä–æ–¥–∞–Ω–æ</div>' : ''}
                    ${item.overlay && item.overlay.type !== 'none' ? `<div class="painting-overlay ${item.overlay.type}" style="background-color: ${item.overlay.color};">${item.overlay.text}</div>` : ''}
                `;
                
                galleryItem.addEventListener('click', function() {
                    showProduct(item);
                });
                
                galleryContainer.appendChild(galleryItem);
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏
        function updateGalleryDisplay() {
            initGallery();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function initNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    if (page) {
                        showPage(page);
                    }
                });
            });
            
            // –ú–æ–±–∏–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≥–∞–ª–µ—Ä–µ–∏
            const mobileGalleryLink = document.querySelector('.mobile-gallery-link');
            if (mobileGalleryLink) {
                mobileGalleryLink.addEventListener('click', function() {
                    showPage('gallery');
                });
            }
            
            // –ú–æ–±–∏–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–û–± –∞–≤—Ç–æ—Ä–µ" –≤ —Ñ—É—Ç–µ—Ä–µ
            const mobileBioLink = document.querySelector('.mobile-bio-link');
            if (mobileBioLink) {
                mobileBioLink.addEventListener('click', function() {
                    showPage('bio');
                });
            }
            
            // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            const mobileMenu = document.querySelector('.mobile-menu');
            const mobileNav = document.querySelector('.mobile-nav');
            const closeMenu = document.querySelector('.close-menu');
            
            if (mobileMenu && mobileNav && closeMenu) {
                mobileMenu.addEventListener('click', function() {
                    mobileNav.classList.add('active');
                });
                
                closeMenu.addEventListener('click', function() {
                    mobileNav.classList.remove('active');
                });
                
                const mobileNavLinks = document.querySelectorAll('.mobile-nav .nav-link');
                mobileNavLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        mobileNav.classList.remove('active');
                    });
                });
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
        function initContactsModal() {
            const contactsLink = document.getElementById('contacts-link');
            const desktopContactsLink = document.getElementById('desktop-contacts-link');
            const mobileContactsLink = document.getElementById('mobile-contacts-link');
            const contactsModal = document.getElementById('contacts-modal');
            const closeContacts = document.getElementById('close-contacts');
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            function updateContactsContent() {
                const isMobile = window.innerWidth <= 768;
                const contactItems = document.querySelectorAll('.contact-item');
                
                contactItems.forEach((item, index) => {
                    const link = item.querySelector('a');
                    if (link) {
                        if (isMobile) {
                            // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ email –ø–æ–ª–Ω–æ—Å—Ç—å—é
                            if (index === 2) { // Email
                                link.textContent = 'tatiana.janart@gmail.com';
                            } else {
                                link.textContent = '';
                            }
                        } else {
                            // –î–ª—è –ü–ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
                            if (index === 0) { // Instagram
                                link.textContent = '@janart_studio';
                            } else if (index === 1) { // WhatsApp
                                link.textContent = '+7 (904) 606 81 07';
                            } else if (index === 2) { // Email
                                link.textContent = 'tatiana.janart@gmail.com';
                            }
                        }
                    }
                });
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            updateContactsContent();
            window.addEventListener('resize', updateContactsContent);
            
            if (contactsLink) {
                contactsLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    contactsModal.classList.add('active');
                });
            }
            
            if (desktopContactsLink) {
                desktopContactsLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    contactsModal.classList.add('active');
                });
            }
            
            if (mobileContactsLink) {
                mobileContactsLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    contactsModal.classList.add('active');
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø—É–Ω–∫—Ç–∞
                    const mobileNav = document.querySelector('.mobile-nav');
                    if (mobileNav) {
                        mobileNav.classList.remove('active');
                    }
                });
            }
            
            if (closeContacts) {
                closeContacts.addEventListener('click', function() {
                    contactsModal.classList.remove('active');
                });
            }
            
            if (contactsModal) {
                contactsModal.addEventListener('click', function(e) {
                    if (e.target === contactsModal) {
                        contactsModal.classList.remove('active');
                    }
                });
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω—ã
        function initDescriptionModal() {
            const descriptionModal = document.getElementById('description-modal');
            const closeDescription = document.getElementById('close-description');
            const saveDescription = document.getElementById('save-description');
            const cancelDescription = document.getElementById('cancel-description');
            const shapeRadios = document.querySelectorAll('input[name="shape-type"]');
            const overlaySettings = document.getElementById('overlay-settings');
            const colorPresets = document.querySelectorAll('.color-preset');
            const colorInput = document.getElementById('overlay-color');
            
            let currentPaintingIndex = null;
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã —Ç–∞–±–ª–∏—á–∫–∏
            shapeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'none') {
                        overlaySettings.style.display = 'none';
                    } else {
                        overlaySettings.style.display = 'block';
                    }
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ü–≤–µ—Ç–æ–≤—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤
            colorPresets.forEach(preset => {
                preset.addEventListener('click', function() {
                    const color = this.getAttribute('data-color');
                    colorInput.value = color;
                    
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å –≤—Å–µ—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤
                    colorPresets.forEach(p => p.classList.remove('active'));
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É
                    this.classList.add('active');
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ input
            colorInput.addEventListener('change', function() {
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å –≤—Å–µ—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤
                colorPresets.forEach(p => p.classList.remove('active'));
            });
            
            // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            window.openDescriptionModal = function(paintingIndex) {
                currentPaintingIndex = paintingIndex;
                const painting = galleryItems[paintingIndex];
                
                if (painting) {
                    document.getElementById('painting-title').value = painting.title || '';
                    document.getElementById('painting-price').value = painting.price || '';
                    document.getElementById('painting-size').value = painting.size || '';
                    document.getElementById('painting-description').value = painting.description || '';
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ç–∞–±–ª–∏—á–∫–∏
                    const overlayData = painting.overlay || { type: 'none', text: '', color: '#ff6b6b' };
                    document.querySelector(`input[name="shape-type"][value="${overlayData.type}"]`).checked = true;
                    document.getElementById('overlay-text').value = overlayData.text || '';
                    document.getElementById('overlay-color').value = overlayData.color || '#ff6b6b';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–±–ª–∏—á–∫–∏
                    if (overlayData.type === 'none') {
                        overlaySettings.style.display = 'none';
                    } else {
                        overlaySettings.style.display = 'block';
                    }
                }
                
                if (descriptionModal) {
                    descriptionModal.classList.add('active');
                }
            };
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
            if (closeDescription) {
                closeDescription.addEventListener('click', function() {
                    descriptionModal.classList.remove('active');
                });
            }
            
            if (cancelDescription) {
                cancelDescription.addEventListener('click', function() {
                    descriptionModal.classList.remove('active');
                });
            }
            
            if (saveDescription) {
                saveDescription.addEventListener('click', function() {
                    if (currentPaintingIndex !== null) {
                        const painting = galleryItems[currentPaintingIndex];
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω—ã
                        painting.title = document.getElementById('painting-title').value;
                        painting.price = document.getElementById('painting-price').value;
                        painting.size = document.getElementById('painting-size').value;
                        painting.description = document.getElementById('painting-description').value;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—á–∫–∏
                        const selectedShape = document.querySelector('input[name="shape-type"]:checked').value;
                        painting.overlay = {
                            type: selectedShape,
                            text: document.getElementById('overlay-text').value,
                            color: document.getElementById('overlay-color').value
                        };
                        
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                        localStorage.setItem('galleryItems', JSON.stringify(galleryItems));
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        updateGalleryDisplay();
                        updateAdminPanel();
                        
                        descriptionModal.classList.remove('active');
                    }
                });
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            if (descriptionModal) {
                descriptionModal.addEventListener('click', function(e) {
                    if (e.target === descriptionModal) {
                        descriptionModal.classList.remove('active');
                    }
                });
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º
        function initForms() {
            const contactForm = document.querySelector('.contact-form');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    alert('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –Ø —Å–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
                    contactForm.reset();
                });
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        function showPage(pageId) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            const allPages = document.querySelectorAll('.page, .product-page, .bio-page, .contact-page');
            allPages.forEach(page => {
                page.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            const targetPage = document.getElementById(`${pageId}-page`);
            if (targetPage) {
                targetPage.style.display = 'block';
            }
            
            // –í—Å–µ–≥–¥–∞ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –Ω–∞–≤–µ—Ä—Ö
            window.scrollTo(0, 0);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞
        function showProduct(product) {
            currentProduct = product;
            currentImageIndex = 0;
            const productPage = document.getElementById('product-page');
            
            productPage.innerHTML = `
                <div class="back-button" id="back-to-gallery">‚Üê –ù–∞–∑–∞–¥ –≤ –≥–∞–ª–µ—Ä–µ—é</div>
                <div class="product-container">
                    <div class="product-gallery">
                        <div class="product-thumbnails" id="thumbnailsContainer">
                            ${product.images.map((image, index) => `
                                <div class="product-thumbnail ${index === 0 ? 'active' : ''}" data-image="${image}" data-index="${index}">
                                    <img src="${image}" alt="–ú–∏–Ω–∏–∞—Ç—é—Ä–∞ ${index + 1}">
                                </div>
                            `).join('')}
                        </div>
                        <div class="product-image-main" id="product-image-container">
                            <img src="${product.images[0]}" alt="${product.title}" id="main-product-image">
                            <button class="nav-arrow prev" id="prev-arrow"></button>
                            <button class="nav-arrow next" id="next-arrow"></button>
                        </div>
                    </div>
                    <div class="product-details">
                        <h1 class="product-title">${product.title}</h1>
                        <div class="product-price">${product.price}</div>
                        <div class="product-size">${product.size}</div>
                        <div class="product-description">
                            <p>${product.description}</p>
                            <p>–ö–∞—Ä—Ç–∏–Ω–∞ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –±–µ–∑ —Ä–∞–º—ã.</p>
                        </div>
                        ${product.soldOut ? 
                            '<div class="sold-out">–ü—Ä–æ–¥–∞–Ω–æ</div>' : 
                            '<button class="add-to-cart">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>'
                        }
                    </div>
                </div>
            `;
            
            initThumbnails(product);
            initSwipeNavigation();
            initArrowNavigation();
            
            document.getElementById('back-to-gallery').addEventListener('click', function() {
                showPage('gallery');
            });
            
            const addToCartBtn = document.querySelector('.add-to-cart');
            if (addToCartBtn) {
                addToCartBtn.addEventListener('click', function() {
                    alert('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!');
                });
            }
            
            showPage('product');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏–∞—Ç—é—Ä
        function initThumbnails(product) {
            const thumbnails = document.querySelectorAll('.product-thumbnail');
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    thumbnails.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    const mainImage = document.getElementById('main-product-image');
                    mainImage.src = this.getAttribute('data-image');
                    currentImageIndex = parseInt(this.getAttribute('data-index'));
                    
                    mainImage.style.maxWidth = '100%';
                    mainImage.style.maxHeight = '65vh';
                    mainImage.style.width = 'auto';
                    mainImage.style.height = 'auto';
                    mainImage.style.objectFit = 'contain';
                });
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–∞–π–ø-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function initSwipeNavigation() {
            const imageContainer = document.getElementById('product-image-container');
            const mainImage = document.getElementById('main-product-image');
            
            if (!imageContainer || !mainImage) return;
            
            imageContainer.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            imageContainer.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏
        function initArrowNavigation() {
            const prevArrow = document.getElementById('prev-arrow');
            const nextArrow = document.getElementById('next-arrow');
            
            if (prevArrow) {
                prevArrow.addEventListener('click', showPreviousImage);
            }
            
            if (nextArrow) {
                nextArrow.addEventListener('click', showNextImage);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à
        function handleKeyPress(e) {
            if (document.getElementById('product-page').style.display === 'block') {
                if (e.key === 'ArrowLeft') {
                    showPreviousImage();
                } else if (e.key === 'ArrowRight') {
                    showNextImage();
                }
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–æ–≤
        function handleSwipe() {
            const minSwipeDistance = 50;
            
            if (!touchStartX || !touchEndX) return;
            
            const distance = touchStartX - touchEndX;
                        if (Math.abs(distance) < minSwipeDistance) return;
            
            if (distance > 0) {
                // –°–≤–∞–π–ø –≤–ª–µ–≤–æ - —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                showNextImage();
            } else {
                // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                showPreviousImage();
            }
            
            // –°–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏–π
            touchStartX = null;
            touchEndX = null;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        function showPreviousImage() {
            if (!currentProduct) return;
            
            currentImageIndex--;
            if (currentImageIndex < 0) {
                currentImageIndex = currentProduct.images.length - 1;
            }
            
            updateMainImage();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        function showNextImage() {
            if (!currentProduct) return;
            
            currentImageIndex++;
            if (currentImageIndex >= currentProduct.images.length) {
                currentImageIndex = 0;
            }
            
            updateMainImage();
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –≥–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        function updateMainImage() {
            const mainImage = document.getElementById('main-product-image');
            const thumbnails = document.querySelectorAll('.product-thumbnail');
            
            if (mainImage && currentProduct) {
                mainImage.src = currentProduct.images[currentImageIndex];
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –º–∏–Ω–∏–∞—Ç—é—Ä—É
                thumbnails.forEach((thumbnail, index) => {
                    if (index === currentImageIndex) {
                        thumbnail.classList.add('active');
                    } else {
                        thumbnail.classList.remove('active');
                    }
                });
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –º–∏–Ω–∏–∞—Ç—é—Ä—ã –∫ –∞–∫—Ç–∏–≤–Ω–æ–π
                const activeThumbnail = thumbnails[currentImageIndex];
                if (activeThumbnail) {
                    activeThumbnail.scrollIntoView({
                        behavior: 'smooth',
                        block: 'nearest',
                        inline: 'center'
                    });
                }
            }
        }
    </script>
</body>
</html>
